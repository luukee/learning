<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link href='//fonts.googleapis.com/css?family=Varela+Round' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="css/main.css">
  <title>AJAX with JavaScript</title>
  <script>
    
//    IN THIS EXAMPLE: load a bit of HTML on a page
    
//    step 1: Create an XMLHTTP Request Object
    var xhr = new XMLHttpRequest();
    
//    step 2: define a callback function
    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
        if(xhr.status === 200) {
          document.getElementById('ajax').innerHTML = xhr.responseText; 
        } else {
            alert(xhr.statusText);
        }
      }
    };
//    step 3: open a request
    xhr.open('GET', 'misssing.html');
    
//    step 4: send the request
    function sendAJAX() {
      xhr.send();
      document.getElementById('load').style.display = "none";
    }
//    or just. . .
    xhr.send();
    
    
//    Get: when getting data from the web server(results from a database post)
//    Post: when you send data like a form
    
//    Query String: (the "lastName=Jones" part of thie url:) http://website.com/employees.php?lastName=Jones
//    Query Strings can hold multiple values ("firstName=Rita&"): http://website.com/employees.php?firstName=Rita&lastName=Jones
  
//    translating special characters in the url: &=%26, space=+, +=%2B
  
// Structured data: data is clearly and consistently organized, by splitting it up in chunks (parsing)
//    1) exstensible markup language (XML)
//    2) json (javascript object notation
//      - three ways you can store data
//        a) key value pairs
//            json linter: http://jsonlint.com/
//        b) an array of values
//        c) an array of JavaScript objects
    
//    you can use ajax to access data on your(origin) server but not:
//    1) different server
//    2) another website
//    3) switching protocols (http to https)
//    4) switching port numbers
//    5) different hosts
    
//    but you can 
//    1) create a web proxy
//    2) json with padding (JSONP)
//    3) Cross-Origin Resource sharing (CORS)
    
//    ajax must work on a server
    
//    Intranet: internal network for an office
    
//    review basics
//    How AJAX works
//    1) create an XMLHTTP Request object.
//    2) create a callback function.
//    3) Open a request.
//    4) Send the request
    
  </script>
</head>
<body>
  <div class="grid-container centered">
    <div class="grid-100">
      <div class="contained">
        <div class="grid-100">
          <div class="heading">
            <h1>Bring on the AJAX</h1>
          </div>
          <div id="ajax">
            <button id="load" onclick="sendAJAX()">Bring it!</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>